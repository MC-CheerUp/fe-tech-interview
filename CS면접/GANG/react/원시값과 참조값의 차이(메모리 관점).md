# 원시값과 참조값의 차이(메모리 관점)

## 저장 위치

-   원시값
    -   스택 메모리에 직접 저장된다.
        -   스택은 함수 호출과 지역 변수를 위해 사용되는 메모리 영역이다.
        -   js에서 number, boolean, string, null, undefined 등
-   참조값
    -   실제 데이터는 힙 메모리에 저장된다.
        -   스택에는 힙 메모리의 주소값만 저장된다.
        -   객체, 배열, 함수 등

## 메모리 할당

-   원시값
    -   컴파일 시점에 크기가 결정되어 고정된 크기로 할당된다.
    -   일반적으로 4바이트(32비트) 또는 8바이트(64비트) 크기로 할당된다.
    -   메모리 관리가 단순하고 빠르다.
-   참조값
    -   런타임에 동적으로 메모리가 할당된다.
    -   크기가 가변적이며, 필요에 따라 확장될 수 있다.
    -   메모리 관리가 더 복잡하지만 유연성이 높다.

## 값의 접근

-   원시값
    -   변수 이름으로 직접 값에 접근한다.
    -   접근 속도가 매우 빠르다.
-   참조값
    -   변수에 저장된 메모리 주소를 통해 실제 데이터에 접근한다.
    -   추가적인 메모리 참조 단계가 있어 원시값보다는 느리다.

## 복사 동작

-   원시값
    -   값 자체가 복사되는 깊은 복사가 일어난다.
    -   복사 후 원본과 복사본이 서로 독립적이다.
    ```jsx
    let a = 5;
    let b = a;
    b = 10;
    console.log(a); // 5 (변경되지 않음)
    console.log(b); // 10
    ```
-   참조값
    -   메모리 주소만 복사되는 얕은 복사가 일어난다.
    -   복사 후 원본과 복사본이 같은 객체를 가리킨다.
    ```jsx
    let obj1 = { x: 5 };
    let obj2 = obj1;
    obj2.x = 10;
    console.log(obj1.x); // 10 (obj1도 변경됨)
    console.log(obj2.x); // 10
    ```

## 메모리 관리

-   원시값
    -   스택 메모리에서 자동으로 관리된다.
    -   변수가 스코프를 벗어나면 자동으로 메모리에서 제거된다.
    -   메모리 할당과 해제가 매우 빠르다.
-   참조값
    -   가비지 컬렉션을 통해 관리된다.
    -   더 이상 참조되지 않는 객체는 가비지 컬렉터에 의해 메모리에서 제거된다.
    -   메모리 관리 프로세스가 더 복잡하고 시간이 소요될 수 있다.

## 성능 영향

-   원시값
    -   직접 접근과 빠른 메모리 관리로 인해 일반적으로 성능이 좋다.
    -   작은 데이터를 다룰 때 효율적이다.
-   참조값
    -   간접 접근과 복잡한 메모리 관리로 인해 원시값보다 성능이 떨어질 수 있다.
    -   큰 데이터 구조를 효율적으로 관리할 수 있다.
