## 브라우저 렌더링 과정

- ( DOM , CSSOM ) 생성트리 → Render Tree→ Layout → paint

1. HTML 을 받아와서 DOM 트리 생성 , CSS 를 받아와서 CSSOM 트리 생성
2. Render Tree 생성 : (DOM , CSSOM )Tree가 구축되는동안 Render Tree 를 구축
3. Layout 단계 : Render Tree 에 있는 스타일이나 속성을 기반으로 브라우저에 출력화면을 예시 및 구축하는 단계
4. paint : 3단계가 끝나면 실제 화면을 그리는단계 (처리해야되는 스타일이 복잡할수로 4단계가 오래걸림)

## 렌더링이 멈추는 이유

- js 가 Dom api 통해서 DOM트리를 변경 시킬수 있다

### 일반적 과정

1. 렌더링 엔진의 DOM 생성을 임시 중단
2. js를 파싱하기 위해 js 에 렌더링 제어권을 넘김
3. 파싱이 끝나면 다시 렌더링 엔진에 제어권을 넘김

### if ( Script 파일을 먼저 로드할 경우 )

1. js 가 먼저 파싱 하는동안은 브라우저는 다른 작업을 생성 x
2. 화면 레이아웃이 구성이 완성되지않고 사용자 에게 보여지게될 확률이 높다

- 사용자 경험을 떨어뜨리는 일이일어남

## 해결방법

- Script 파일을 body 태그 끝에 두는것을 권장
- HTML 화면 표시가 먼저 되고 , 시각적으로는 파싱이 완료 되어 사용자 경험을 높여줌

# async , defer

- HTML 파싱 블로킹 현상을 해결하기 위해 async,defer 가 HTML5 부터 추가 됨
- HTML 파싱과 외부 js 로드가 비동기적으로 동시에 진행되게함

## async

- HTML 파싱과 js 파일 로드가 비동기적으로 동시에 진행됨
- 단, js 실행시 로드되면 html 파싱이 중단됨
- 두개는 동기적으로 진행할 수 있지만 js 파일이 바로 실행되므로 실행 순서를 보장할수없다

## defer

- HTML 파싱과 js 파일 로드가 비동기적으로 동시에 진행됨
- HTML 파싱이 완료된 직후 (DOM생성후 ) js가 실행됨
