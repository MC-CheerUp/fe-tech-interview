# setState

- React 에서 상태를 업데이트하는 함수.
- 상태가 변경되면 React는 컴포넌트를 다시 렌더링
- 기본적으로 상태 업데이트는 비동기적으로 처리된다.

## setState 는 왜 비동기적으로 동작하나?

### 배치 업데이트 (Batching)

> **불필요한 렌더링 방지**
> 
> 상태 업데이트가 연속적으로 이루어질 때마다 UI를 다시 렌더링하는 대신, 
> 업데이트를 모아 한번의 렌더링 사이클에 처리하여 성능을 최적화한다.

> **앱의 응답성 향상**
> 
> 만약 상태 업데이트가 동기적으로 처리된다면, 여러 상태 업데이트가 있을 때마다 UI가 다시 렌더링될 수 있다.
> 업데이트가 연속적으로 이뤄진다면, UI 업데이트로 앱 응답성이 저해될 수 있다.


## setState가 적용되는 과정 설명

### 1. setState 호출
- 상태 업데이트를 요청

### 2. 상태 업데이트 예약
- 상태를 즉시 변경하지 않고, 내부적으로 큐에 추가 (매크로 태스크 큐나 마이크로 태스크 큐와는 다른, React의 내부 큐.!)
-  여러 상태 업데이트를 모아 한번에 처리하기 위해, 큐를 활용하는 것.

### 3. 상태 변경 & 랜더링 사이클 시작
- V-DOM 업데이트
- Diffing
- DOM 업데이터트
- 랜더링 완료