# 마이크로 태스크 큐

## 정의
마이크로 태스크는 JavaScript의 이벤트 루프에서 비동기 작업 중 우선순위가 높은 작업을 처리하는 큐이다. 동기 작업이 완료된 후 즉시 실행된다.

## 예시
- Promise 객체의 .then(), .catch(), .finally() 메서드의 콜백.
- DOM 관련 비동기 작업.

## 비교
DOM 이벤트 콜백(addEventListener 등), setTimeout, setInterval 등은 매크로 태스크 큐에 들어가며, 마이크로 태스크 큐보다 우선순위가 낮다.


## 동작원리
1. 콜 스택이 비어 있을 때:
  - 콜 스택이 비어 있을 때, 이벤트 루프는 마이크로 태스크 큐의 작업을 처리한다. 
  - 마이크로 태스크 큐는 FIFO(First In, First Out) 방식으로 처리한다.


2. 마이크로 태스크 큐 처리:
  - 이벤트 루프는 마이크로 태스크 큐가 완전히 비어 있을 때까지 마이크로 태스크를 계속 처리한다. 
  - 새로운 마이크로 태스크가 생성되더라도, 이 새로운 마이크로 태스크도 계속 처리된다.

3. 마이크로 태스크 큐 처리 이후:
  - 이벤트 루프는 매크로 태스크 큐를 확인하여 다음 매크로 태스크를 콜 스택에 할당한다.
  - 매크로 태스크 실행 중에 새로운 마이크로 태스크가 생성되면 매크로 태스크를 다 마무리한 후, 마이크로 태스크 큐를 다시 확인하여 추가된 마이크로 태스크를 처리한다.